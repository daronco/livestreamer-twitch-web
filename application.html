<head>
  <title>livestreamer-twitch-web</title>
</head>

<body>
  {{> navbar}}

  {{> onAir}}

  <h1>Live streams</h1>
  {{> streams}}
</body>

<template name="navbar">
  {{#if currentUser}}
    {{currentUser.profile.name}}
  {{else}}
    {{> twitchLoginButton}}
  {{/if}}
</template>

<template name="onAir">
  {{#if hasStreamOnAir}}
    <div class="on-air {{loadingClass}}">
      On air: {{streamOnAir.channel.name}}
    </div>
  {{/if}}
</template>

<template name="streams">
  <ul id="streams">
    {{#each stream}}
    <li class="stream {{selectedClass}}">
      <img src="{{data.preview.medium}}" />
      <div class="stream-description">
        <span class="stream-name">{{channel.name}}</span>
        <span class="stream-game">{{data.game}}</span>
        <span class="stream-viewers">{{data.viewers}}</span>
      </div>
    </li>
    {{/each}}
  </ul>
</template>
